C51 COMPILER V9.60.0.0   MAIN                                                              11/27/2019 19:22:55 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND CODE SYMBOLS TABS(2)

line level    source

   1          #define __main_c
   2          #include "includeAll.h"
   3          //=============================================================================
   4          void main() {
   5   1            SysInit();
   6   1              VarsInit();
   7   1             F_ledOn();
   8   1         DelayMs(500); 
   9   1        //使能看门狗
  10   1        F_turnOnWDT();
  11   1        while (1) {
  12   2          //喂狗
  13   2           F_clearWDT();
  14   2          // user coding
  15   2           // F_ledOff();
  16   2          // delayMs(500);
  17   2          // F_ledOn();
  18   2          // delayMs(500);
  19   2          // delayMs(5);
  20   2           GetKeys();
  21   2          if (D_keyValue1 == keyValue) {
  22   3            F_ledNeg();
  23   3          }
  24   2          keyValue = D_keyNull;
  25   2        }
  26   1      }
  27          //=============================================================================
  28          void DelayMs(uint16_t msCount) {
  29   1       uint16_t i, j;
  30   1        for (i = 0; i < msCount; i++) {
  31   2                for (j = 0; j < 1000; j++) {
  32   3                   /* code */
  33   3                   F_clearWDT();
  34   3          }
  35   2                }
  36   1        }
  37                
C51 COMPILER V9.60.0.0   MAIN                                                              11/27/2019 19:22:55 PAGE 2   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION main (BEGIN)
                                           ; SOURCE LINE # 4
                                           ; SOURCE LINE # 5
0000 120000      E     LCALL   SysInit
                                           ; SOURCE LINE # 6
0003 120000      E     LCALL   VarsInit
                                           ; SOURCE LINE # 7
0006 D291              SETB    P1_1
                                           ; SOURCE LINE # 8
0008 7FF4              MOV     R7,#0F4H
000A 7E01              MOV     R6,#01H
000C 120000      R     LCALL   _DelayMs
                                           ; SOURCE LINE # 10
000F E5F7              MOV     A,CFGWL
0011 543F              ANL     A,#03FH
0013 44C0              ORL     A,#0C0H
0015 F5F7              MOV     CFGWL,A
0017         ?C0001:
                                           ; SOURCE LINE # 11
                                           ; SOURCE LINE # 13
0017 D2FF              SETB    CLRWDT
                                           ; SOURCE LINE # 20
0019 120000      E     LCALL   GetKeys
                                           ; SOURCE LINE # 21
001C E500        E     MOV     A,keyValue
001E 6401              XRL     A,#01H
0020 7002              JNZ     ?C0003
                                           ; SOURCE LINE # 22
0022 B291              CPL     P1_1
                                           ; SOURCE LINE # 23
0024         ?C0003:
                                           ; SOURCE LINE # 24
0024 E4                CLR     A
0025 F500        E     MOV     keyValue,A
                                           ; SOURCE LINE # 25
0027 80EE              SJMP    ?C0001
             ; FUNCTION main (END)

             ; FUNCTION _DelayMs (BEGIN)
                                           ; SOURCE LINE # 28
;---- Variable 'msCount' assigned to Register 'R6/R7' ----
                                           ; SOURCE LINE # 30
;---- Variable 'i' assigned to Register 'R4/R5' ----
0000 E4                CLR     A
0001 FD                MOV     R5,A
0002 FC                MOV     R4,A
0003         ?C0005:
0003 C3                CLR     C
0004 ED                MOV     A,R5
0005 9F                SUBB    A,R7
0006 EC                MOV     A,R4
0007 9E                SUBB    A,R6
0008 5017              JNC     ?C0011
                                           ; SOURCE LINE # 31
;---- Variable 'j' assigned to Register 'R2/R3' ----
000A E4                CLR     A
000B FB                MOV     R3,A
000C FA                MOV     R2,A
000D         ?C0008:
C51 COMPILER V9.60.0.0   MAIN                                                              11/27/2019 19:22:55 PAGE 3   

                                           ; SOURCE LINE # 33
000D D2FF              SETB    CLRWDT
                                           ; SOURCE LINE # 34
000F 0B                INC     R3
0010 BB0001            CJNE    R3,#00H,?C0012
0013 0A                INC     R2
0014         ?C0012:
0014 BA03F6            CJNE    R2,#03H,?C0008
0017 BBE8F3            CJNE    R3,#0E8H,?C0008
                                           ; SOURCE LINE # 35
001A         ?C0007:
001A 0D                INC     R5
001B BD0001            CJNE    R5,#00H,?C0013
001E 0C                INC     R4
001F         ?C0013:
001F 80E2              SJMP    ?C0005
                                           ; SOURCE LINE # 36
0021         ?C0011:
0021 22                RET     
             ; FUNCTION _DelayMs (END)

C51 COMPILER V9.60.0.0   MAIN                                                              11/27/2019 19:22:55 PAGE 4   

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


uint16_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
int32_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
int16_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
P1_1 . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      0091H  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
AUX1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
main . . . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_DelayMs . . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
  msCount. . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0006H  2
  i. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0004H  2
  j. . . . . . . . . . . . . . . . . .  * REG *  DATA   U_INT    0002H  2
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
VarsInit . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
CLKCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
GetKeys. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
keyValue . . . . . . . . . . . . . . .  EXTERN   DATA   U_CHAR   -----  1
uint8_t. . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
CLRWDT . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00FFH  1
SysInit. . . . . . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
int8_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
CFGWL. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F7H  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
uint32_t . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     75    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
